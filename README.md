OHANA - Библиотека для создания и управления ботами через BotFather

Ohana - это Go-библиотека для программного создания и управления ботами Telegram через официальный интерфейс BotFather. "Ohana" означает "семья" на гавайском - эта библиотека помогает вам управлять всей семьей ваших ботов.

Данная библиотека позволяет

Автоподбор username при занятости

Безопасная авторизация с сохранением сессии

Полное управление настройками бота:

1) создавать бота

2) изменять имя бота

3) изменять описание бота

4) устанавливать/изменять информацию о боте

5) устанавливать/изменять фотографию аватарки бота

6) устанавливать/изменять набор команд бота

7) удалять бота

Установка

go get github.com/boriuscastus/ohana

Получите API данные
Перейдите на my.telegram.org

Войдите с вашим номером телефона

Создайте приложение в разделе "App configuration"

Запишите:

api_id - числовой идентификатор

api_hash - строковый хэш

// Простое создание
token, err := client.CreateBot(ctx, "ИмяБота", "usernamebot")

// Создание с описанием
token, err := client.CreateBotWithDescription(ctx, "Имя", "usernamebot", "Описание бота")

// Создание с автоматическим подбором username
username, token, err := client.CreateBotWithRetry(ctx, "Имя", func() string {
    // Ваша логика генерации username
    return generateUsername()
})

// Изменить имя
err := client.SetBotName(ctx, "usernamebot", "НовоеИмя")

// Изменить описание
err := client.SetBotDescription(ctx, "usernamebot", "Новое описание")

// Изменить "О боте"
err := client.SetBotAbout(ctx, "usernamebot", "Новая информация о боте")

// Установить команды
commands := map[string]string{
    "command1": "Описание команды 1",
    "command2": "Описание команды 2",
}
err := client.SetBotCommands(ctx, "usernamebot", commands)

// Установить фото профиля
err := client.SetBotUserpic(ctx, "usernamebot", "/путь/к/фото.jpg")

// Удалить бота
err := client.DeleteBot(ctx, "usernamebot")

⚠️ Важные ограничения
Rate limiting
Telegram имеет строгие лимиты на операции:

Создание ботов: несколько в минуту

Изменение настроек: ограниченное количество запросов

Авторизация: защита от брутфорса

Библиотека автоматически:

Обрабатывает ошибки "too many attempts"

Делает паузы между запросами

Сохраняет сессию для повторного использования

Требования к username
Должен оканчиваться на bot (регистронезависимо)

Должен быть уникальным

Минимальная длина - 5 символов