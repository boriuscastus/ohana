OHANA - Библиотека для создания и управления ботами через BotFather

Ohana - это Go-библиотека для программного создания и управления ботами Telegram через официальный интерфейс BotFather. "Ohana" означает "семья" на гавайском - эта библиотека помогает вам управлять всей семьей ваших ботов.

Данная библиотека позволяет

Автоподбор username при занятости

Безопасная авторизация с сохранением сессии

# Ohana — помощник для BotFather (Go)

Ohana — небольшая Go-библиотека для автоматизации создания и настройки Telegram-ботов через BotFather (использует gotd/td).

Поддерживает два режима:
- Интерактивный (CLI) — функции с суффиксом `Interactive` запрашивают ввод через stdin.
- Программный (non-interactive) — функции принимают параметры и возвращают ошибку/результат.

Ключевые возможности
- Создание бота и извлечение токена
- Автоматический подбор username (если занят)
- Установка имени, описания, "О боте", команд и фото профиля
- Сохранение сессии и автоматическая переавторизация при истечении срока

Быстрый старт

Открой main.go и пропиши свои данные:
apiID, apiHash, phone
nonInteractive := false для первой авторизации, затем true для демо.
Собрать и запустить:
Авторизация

При первом запуске с nonInteractive := false программа попросит код из Telegram — введи его, чтобы создать файл сессии.
После успешной интерактивной авторизации можно запускать в nonInteractive режиме.
Как пользоваться (неинтерактивно)

В файле main.go установи нужные параметры (имя бота, базовый username, описание, about, команды, путь к фото).
Функции, которыми можно управлять программно:
CreateBotWithAutoUsername(name, baseUsername, attempts)
CreateBotWithUsername(name, username)
SetBotDescription(botUsername, description)
SetBotAbout(botUsername, aboutText)
SetBotCommands(botUsername, commands map[string]string)
SetBotUserpic(botUsername, imagePath)
DeleteBot(botUsername)
Формат команд для BotFather

Передавай команды в виде map[string]string. Пример:
Лидирующий слэш допускается — библиотека автоматически удалит / и отправит BotFather строки вида start - Start the bot.
Управление уже созданными ботами

Можно изменять настройки любого бота, которым владеет текущая учётная запись (та, под которой выполнена авторизация).
Если бот создан под другой учётной записью — нужно аутентифицироваться под этой учётной записью.
Что делать при AUTH_KEY_UNREGISTERED

Если видишь AUTH_KEY_UNREGISTERED, запусти программу интерактивно (nonInteractive := false) и пройди авторизацию — это создаст корректную сессию.
Библиотека пробует автоматически удалить и восстановить сессию, но восстановление требует ввода кода один раз.